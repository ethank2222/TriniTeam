<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Enhanced Multi-Agent Intelligence Platform</title>
        <meta
            name="description"
            content="AI-powered development coordination with enhanced performance monitoring and real-time collaboration"
        />
        <meta
            name="keywords"
            content="AI, multi-agent, development, automation, collaboration"
        />

        <!-- Enhanced Stylesheets -->
        <link rel="stylesheet" href="../static/css/style.css" />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
            rel="stylesheet"
        />

        <!-- PWA Support -->
        <link
            rel="manifest"
            href="{{ url_for('static', filename='manifest.json') }}"
        />
        <meta name="theme-color" content="#0ea5e9" />

        <!-- Performance Optimizations -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" />
    </head>
    <body>
        <div id="app" class="app-container">
            <!-- Enhanced Header -->
            <header class="header">
                <div class="header-content">
                    <div class="brand">
                        <div class="brand-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="brand-text">
                            <h1>Enhanced Multi-Agent Intelligence Platform</h1>
                            <p>
                                AI-Powered Development Coordination with
                                Advanced Analytics
                            </p>
                        </div>
                    </div>
                    <div class="header-actions">
                        <div class="connection-status" id="connection-status">
                            <div class="status-dot"></div>
                            <span>Connected</span>
                        </div>
                        <div class="system-metrics-summary">
                            <div class="metric-summary">
                                <i class="fas fa-users"></i>
                                <span id="header-active-agents">0</span>
                            </div>
                            <div class="metric-summary">
                                <i class="fas fa-tasks"></i>
                                <span id="header-tasks-completed">0</span>
                            </div>
                            <div class="metric-summary">
                                <i class="fas fa-clock"></i>
                                <span id="header-system-uptime">00:00:00</span>
                            </div>
                        </div>
                        <button id="system-status" class="status-btn">
                            <i class="fas fa-pause"></i>
                            <span>System Ready</span>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Enhanced Navigation -->
            <nav class="navigation">
                <div class="nav-container">
                    <div class="nav-tabs">
                        <button class="nav-tab active" data-view="dashboard">
                            <i class="fas fa-chart-line"></i>
                            <span>Dashboard</span>
                        </button>
                        <button class="nav-tab" data-view="agents">
                            <i class="fas fa-users-cog"></i>
                            <span>Agents</span>
                        </button>
                        <button class="nav-tab" data-view="communications">
                            <i class="fas fa-comments"></i>
                            <span>Communications</span>
                        </button>
                        <button class="nav-tab" data-view="files">
                            <i class="fas fa-folder-open"></i>
                            <span>Files</span>
                        </button>
                        <button class="nav-tab" data-view="performance">
                            <i class="fas fa-chart-bar"></i>
                            <span>Performance</span>
                        </button>
                        <button class="nav-tab" data-view="logs">
                            <i class="fas fa-terminal"></i>
                            <span>Logs</span>
                        </button>
                    </div>
                    <div class="nav-actions">
                        <button id="toggle-realtime" class="nav-action-btn">
                            <i class="fas fa-sync"></i>
                            <span>Real-time</span>
                        </button>
                        <button id="performance-report" class="nav-action-btn">
                            <i class="fas fa-analytics"></i>
                            <span>Analytics</span>
                        </button>
                        <button id="export-logs" class="nav-action-btn">
                            <i class="fas fa-download"></i>
                            <span>Export</span>
                        </button>
                        <button id="add-agent" class="nav-action-btn primary">
                            <i class="fas fa-plus"></i>
                            <span>Add Agent</span>
                        </button>
                    </div>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Enhanced Dashboard View -->
                <div id="dashboard-view" class="view active">
                    <div class="view-header">
                        <div class="view-title">
                            <h2>System Dashboard</h2>
                            <p>
                                Monitor your multi-agent system performance and
                                activity
                            </p>
                        </div>
                        <div class="view-actions">
                            <button
                                id="pause-project"
                                class="btn btn-outline"
                                disabled
                            >
                                <i class="fas fa-pause"></i>
                                <span>Pause</span>
                            </button>
                            <button
                                id="refresh-dashboard"
                                class="btn btn-outline"
                            >
                                <i class="fas fa-refresh"></i>
                                <span>Refresh</span>
                            </button>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <!-- Enhanced System Metrics -->
                        <div class="dashboard-card metrics-card">
                            <div class="card-header">
                                <h3>System Metrics</h3>
                                <div class="card-actions">
                                    <button
                                        class="action-btn"
                                        id="refresh-metrics"
                                    >
                                        <i class="fas fa-refresh"></i>
                                    </button>
                                    <button
                                        class="action-btn"
                                        id="export-metrics"
                                    >
                                        <i class="fas fa-download"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="metrics-grid">
                                    <div class="metric">
                                        <div
                                            class="metric-value"
                                            id="active-agents-count"
                                        >
                                            0
                                        </div>
                                        <div class="metric-label">
                                            Active Agents
                                        </div>
                                    </div>
                                    <div class="metric">
                                        <div
                                            class="metric-value"
                                            id="tasks-completed"
                                        >
                                            0
                                        </div>
                                        <div class="metric-label">
                                            Tasks Completed
                                        </div>
                                    </div>
                                    <div class="metric">
                                        <div
                                            class="metric-value"
                                            id="messages-sent"
                                        >
                                            0
                                        </div>
                                        <div class="metric-label">
                                            Messages Sent
                                        </div>
                                    </div>
                                    <div class="metric">
                                        <div
                                            class="metric-value"
                                            id="system-uptime"
                                        >
                                            00:00:00
                                        </div>
                                        <div class="metric-label">
                                            System Uptime
                                        </div>
                                    </div>
                                    <div class="metric">
                                        <div
                                            class="metric-value"
                                            id="files-created"
                                        >
                                            0
                                        </div>
                                        <div class="metric-label">
                                            Files Created
                                        </div>
                                    </div>
                                    <div class="metric">
                                        <div
                                            class="metric-value"
                                            id="cache-hit-rate"
                                        >
                                            0%
                                        </div>
                                        <div class="metric-label">
                                            Cache Hit Rate
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Enhanced Task Queue Status -->
                        <div class="dashboard-card task-queue-card">
                            <div class="card-header">
                                <h3>Task Queue</h3>
                                <div class="card-actions">
                                    <button
                                        class="action-btn"
                                        id="clear-failed-tasks"
                                    >
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="task-queue-metrics">
                                    <div class="queue-metric">
                                        <div class="queue-icon pending">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <div class="queue-info">
                                            <div
                                                class="queue-count"
                                                id="tasks-pending"
                                            >
                                                0
                                            </div>
                                            <div class="queue-label">
                                                Pending
                                            </div>
                                        </div>
                                    </div>
                                    <div class="queue-metric">
                                        <div class="queue-icon in-progress">
                                            <i
                                                class="fas fa-spinner fa-spin"
                                            ></i>
                                        </div>
                                        <div class="queue-info">
                                            <div
                                                class="queue-count"
                                                id="tasks-in-progress"
                                            >
                                                0
                                            </div>
                                            <div class="queue-label">
                                                In Progress
                                            </div>
                                        </div>
                                    </div>
                                    <div class="queue-metric">
                                        <div class="queue-icon completed">
                                            <i class="fas fa-check"></i>
                                        </div>
                                        <div class="queue-info">
                                            <div
                                                class="queue-count"
                                                id="tasks-completed-queue"
                                            >
                                                0
                                            </div>
                                            <div class="queue-label">
                                                Completed
                                            </div>
                                        </div>
                                    </div>
                                    <div class="queue-metric">
                                        <div class="queue-icon failed">
                                            <i class="fas fa-times"></i>
                                        </div>
                                        <div class="queue-info">
                                            <div
                                                class="queue-count"
                                                id="tasks-failed"
                                            >
                                                0
                                            </div>
                                            <div class="queue-label">
                                                Failed
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Enhanced Project Control -->
                        <div class="dashboard-card project-control-card">
                            <div class="card-header">
                                <h3>Project Control</h3>
                                <div class="project-status" id="project-status">
                                    <div class="status-indicator">
                                        <div class="status-dot idle"></div>
                                        <span>Idle</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="project-form">
                                    <div class="form-group">
                                        <label for="project-description"
                                            >Project Description</label
                                        >
                                        <textarea
                                            id="project-description"
                                            placeholder="Describe your project requirements and objectives in detail..."
                                            rows="4"
                                            class="form-textarea"
                                        ></textarea>
                                        <div class="form-hint">
                                            <i class="fas fa-lightbulb"></i>
                                            <span
                                                >Pro tip: Be specific about
                                                technologies, features, and
                                                requirements for better
                                                results</span
                                            >
                                        </div>
                                    </div>
                                    <div class="project-templates">
                                        <label>Quick Templates:</label>
                                        <div class="template-buttons">
                                            <button
                                                class="template-btn"
                                                data-template="web-app"
                                            >
                                                <i class="fas fa-desktop"></i>
                                                <span>Web App</span>
                                            </button>
                                            <button
                                                class="template-btn"
                                                data-template="api"
                                            >
                                                <i class="fas fa-server"></i>
                                                <span>API</span>
                                            </button>
                                            <button
                                                class="template-btn"
                                                data-template="dashboard"
                                            >
                                                <i class="fas fa-chart-pie"></i>
                                                <span>Dashboard</span>
                                            </button>
                                            <button
                                                class="template-btn"
                                                data-template="mobile"
                                            >
                                                <i
                                                    class="fas fa-mobile-alt"
                                                ></i>
                                                <span>Mobile App</span>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="form-actions">
                                        <button
                                            id="start-project"
                                            class="btn btn-primary"
                                        >
                                            <i class="fas fa-play"></i>
                                            <span>Start Project</span>
                                        </button>
                                        <button
                                            id="stop-project"
                                            class="btn btn-secondary"
                                            disabled
                                        >
                                            <i class="fas fa-stop"></i>
                                            <span>Stop Project</span>
                                        </button>
                                        <button
                                            id="save-project"
                                            class="btn btn-outline"
                                        >
                                            <i class="fas fa-save"></i>
                                            <span>Save Draft</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Enhanced Activity Feed -->
                        <div class="dashboard-card activity-card">
                            <div class="card-header">
                                <h3>Recent Activity</h3>
                                <div class="card-actions">
                                    <button
                                        class="action-btn"
                                        id="filter-activity"
                                    >
                                        <i class="fas fa-filter"></i>
                                    </button>
                                    <button
                                        class="action-btn"
                                        id="clear-activity"
                                    >
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="activity-feed" id="activity-feed">
                                    <div class="activity-item">
                                        <div class="activity-icon">
                                            <i class="fas fa-info-circle"></i>
                                        </div>
                                        <div class="activity-content">
                                            <div class="activity-text">
                                                Enhanced system initialized
                                                successfully
                                            </div>
                                            <div class="activity-time">
                                                Just now
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Agents View -->
                <div id="agents-view" class="view">
                    <div class="view-header">
                        <div class="view-title">
                            <h2>Agent Management</h2>
                            <p>Configure, monitor, and manage your AI agents</p>
                        </div>
                        <div class="view-actions">
                            <button class="btn btn-outline" id="bulk-actions">
                                <i class="fas fa-tasks"></i>
                                <span>Bulk Actions</span>
                            </button>
                            <button class="btn btn-outline" id="export-agents">
                                <i class="fas fa-download"></i>
                                <span>Export</span>
                            </button>
                            <button class="btn btn-primary" id="add-agent-btn">
                                <i class="fas fa-plus"></i>
                                <span>Add Agent</span>
                            </button>
                        </div>
                    </div>
                    <div class="agents-controls">
                        <div class="controls-left">
                            <div class="search-box">
                                <input
                                    type="text"
                                    id="agent-search"
                                    placeholder="Search agents..."
                                    class="form-input"
                                />
                                <i class="fas fa-search"></i>
                            </div>
                            <div class="filter-dropdown">
                                <select id="agent-filter" class="form-select">
                                    <option value="all">All Agents</option>
                                    <option value="active">Active Only</option>
                                    <option value="working">Working</option>
                                    <option value="idle">Idle</option>
                                    <option value="error">Error</option>
                                </select>
                            </div>
                        </div>
                        <div class="controls-right">
                            <div class="view-toggle">
                                <button
                                    class="view-toggle-btn active"
                                    data-view="grid"
                                >
                                    <i class="fas fa-th-large"></i>
                                </button>
                                <button
                                    class="view-toggle-btn"
                                    data-view="list"
                                >
                                    <i class="fas fa-list"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="agents-grid" id="agents-grid">
                        <!-- Enhanced agent cards will be populated here -->
                    </div>
                </div>

                <!-- Enhanced Communications View -->
                <div id="communications-view" class="view">
                    <div class="communications-container redesigned">
                        <div class="communications-header">
                            <div class="view-title">
                                <h2>Agent Communications</h2>
                                <p>
                                    Real-time messaging, system logs, and
                                    communication analytics
                                </p>
                            </div>
                            <div class="communications-actions">
                                <button
                                    class="btn btn-outline"
                                    id="communication-analytics"
                                >
                                    <i class="fas fa-chart-line"></i>
                                    <span>Analytics</span>
                                </button>
                                <button
                                    class="btn btn-outline"
                                    id="export-messages"
                                >
                                    <i class="fas fa-download"></i>
                                    <span>Export</span>
                                </button>
                                <button
                                    class="btn btn-secondary"
                                    id="clear-messages"
                                >
                                    <i class="fas fa-trash-alt"></i>
                                    <span>Clear</span>
                                </button>
                            </div>
                        </div>
                        <div class="communications-main">
                            <div class="comm-history-panel">
                                <div class="panel-header">
                                    <h3>
                                        <i class="fas fa-comments"></i> Message
                                        History
                                    </h3>
                                    <div class="message-filters">
                                        <select
                                            id="message-filter"
                                            class="filter-select"
                                        >
                                            <option value="all">
                                                All Messages
                                            </option>
                                            <option value="task_assignment">
                                                Task Assignments
                                            </option>
                                            <option value="task_completion">
                                                Task Completions
                                            </option>
                                            <option value="status_update">
                                                Status Updates
                                            </option>
                                            <option value="coordination">
                                                Coordination
                                            </option>
                                            <option value="error">
                                                Errors
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div
                                    id="messages-list"
                                    class="messages-list"
                                ></div>
                                <div class="message-composer">
                                    <div class="composer-header">
                                        <h3>Send Manual Instruction</h3>
                                        <p>
                                            Send a direct instruction or manual
                                            task assignment to any agent.
                                        </p>
                                    </div>
                                    <div class="composer-form">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label for="message-to"
                                                    >To (Agent)</label
                                                >
                                                <select
                                                    id="message-to"
                                                    class="form-select"
                                                ></select>
                                            </div>
                                            <div class="form-group">
                                                <label for="message-priority"
                                                    >Priority</label
                                                >
                                                <select
                                                    id="message-priority"
                                                    class="form-select"
                                                >
                                                    <option value="low">
                                                        Low
                                                    </option>
                                                    <option
                                                        value="normal"
                                                        selected
                                                    >
                                                        Normal
                                                    </option>
                                                    <option value="high">
                                                        High
                                                    </option>
                                                    <option value="urgent">
                                                        Urgent
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="message-content"
                                                >Message / Task</label
                                            >
                                            <textarea
                                                id="message-content"
                                                placeholder="Type your instruction or task..."
                                                rows="3"
                                                class="form-textarea"
                                            ></textarea>
                                        </div>
                                        <div class="form-actions">
                                            <button
                                                id="send-message"
                                                class="btn btn-primary"
                                            >
                                                <i
                                                    class="fas fa-paper-plane"
                                                ></i>
                                                <span>Send Message</span>
                                            </button>
                                            <button
                                                id="save-draft"
                                                class="btn btn-outline"
                                            >
                                                <i class="fas fa-save"></i>
                                                <span>Save Draft</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="comm-log-panel">
                                <div class="panel-header">
                                    <h3>
                                        <i class="fas fa-terminal"></i> System
                                        Log
                                    </h3>
                                    <div class="log-controls">
                                        <button
                                            class="btn-icon"
                                            id="log-follow"
                                        >
                                            <i class="fas fa-arrow-down"></i>
                                        </button>
                                        <button class="btn-icon" id="log-clear">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                                <div
                                    id="detailed-log"
                                    class="terminal-log"
                                ></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Files View -->
                <div id="files-view" class="view">
                    <div class="view-header">
                        <div class="view-title">
                            <h2>Project Files</h2>
                            <p>
                                Browse, preview, and manage generated project
                                files
                            </p>
                        </div>
                        <div class="view-actions">
                            <button id="refresh-files" class="btn btn-outline">
                                <i class="fas fa-refresh"></i>
                                <span>Refresh</span>
                            </button>
                            <button
                                id="download-project"
                                class="btn btn-primary"
                            >
                                <i class="fas fa-download"></i>
                                <span>Download Project</span>
                            </button>
                        </div>
                    </div>
                    <div class="files-container">
                        <div class="files-sidebar">
                            <div class="sidebar-header">
                                <h3>Project Structure</h3>
                                <button class="btn-icon" id="collapse-all">
                                    <i class="fas fa-compress"></i>
                                </button>
                            </div>
                            <div
                                id="file-tree-container"
                                class="file-tree-container"
                            ></div>
                        </div>
                        <div class="files-main">
                            <div class="file-preview-header">
                                <h3 id="current-file-name">
                                    Select a file to preview
                                </h3>
                                <div class="file-actions">
                                    <button
                                        class="btn-icon"
                                        id="copy-file-content"
                                    >
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <button class="btn-icon" id="download-file">
                                        <i class="fas fa-download"></i>
                                    </button>
                                </div>
                            </div>
                            <div
                                id="file-preview-container"
                                class="file-preview-container"
                            >
                                <div class="file-preview-placeholder">
                                    <i class="fas fa-file-code"></i>
                                    <p>
                                        Select a file from the tree to view its
                                        contents
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- New Performance View -->
                <div id="performance-view" class="view">
                    <div class="view-header">
                        <div class="view-title">
                            <h2>Performance Analytics</h2>
                            <p>
                                Monitor system performance, agent efficiency,
                                and optimization opportunities
                            </p>
                        </div>
                        <div class="view-actions">
                            <button
                                id="generate-report"
                                class="btn btn-outline"
                            >
                                <i class="fas fa-file-pdf"></i>
                                <span>Generate Report</span>
                            </button>
                            <button
                                id="optimize-system"
                                class="btn btn-primary"
                            >
                                <i class="fas fa-rocket"></i>
                                <span>Optimize</span>
                            </button>
                        </div>
                    </div>
                    <div class="performance-dashboard">
                        <div class="performance-grid">
                            <div class="performance-card">
                                <div class="card-header">
                                    <h3>System Performance</h3>
                                </div>
                                <div class="card-content">
                                    <div
                                        id="system-performance-chart"
                                        class="chart-container"
                                    ></div>
                                </div>
                            </div>
                            <div class="performance-card">
                                <div class="card-header">
                                    <h3>Agent Efficiency</h3>
                                </div>
                                <div class="card-content">
                                    <div
                                        id="agent-efficiency-chart"
                                        class="chart-container"
                                    ></div>
                                </div>
                            </div>
                            <div class="performance-card">
                                <div class="card-header">
                                    <h3>Resource Usage</h3>
                                </div>
                                <div class="card-content">
                                    <div
                                        id="resource-usage-chart"
                                        class="chart-container"
                                    ></div>
                                </div>
                            </div>
                            <div class="performance-card">
                                <div class="card-header">
                                    <h3>Optimization Recommendations</h3>
                                </div>
                                <div class="card-content">
                                    <div
                                        id="optimization-recommendations"
                                        class="recommendations-list"
                                    ></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- New Logs View -->
                <div id="logs-view" class="view">
                    <div class="view-header">
                        <div class="view-title">
                            <h2>System Logs</h2>
                            <p>
                                Comprehensive system logging and debugging
                                information
                            </p>
                        </div>
                        <div class="view-actions">
                            <button
                                id="export-all-logs"
                                class="btn btn-outline"
                            >
                                <i class="fas fa-download"></i>
                                <span>Export All</span>
                            </button>
                            <button
                                id="clear-all-logs"
                                class="btn btn-secondary"
                            >
                                <i class="fas fa-trash-alt"></i>
                                <span>Clear All</span>
                            </button>
                        </div>
                    </div>
                    <div class="logs-container">
                        <div class="logs-sidebar">
                            <div class="log-filters">
                                <h3>Log Filters</h3>
                                <div class="filter-group">
                                    <label>Level:</label>
                                    <select
                                        id="log-level-filter"
                                        class="form-select"
                                    >
                                        <option value="all">All Levels</option>
                                        <option value="debug">Debug</option>
                                        <option value="info">Info</option>
                                        <option value="warning">Warning</option>
                                        <option value="error">Error</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label>Source:</label>
                                    <select
                                        id="log-source-filter"
                                        class="form-select"
                                    >
                                        <option value="all">All Sources</option>
                                        <option value="system">System</option>
                                        <option value="agent">Agents</option>
                                        <option value="api">API</option>
                                        <option value="performance">
                                            Performance
                                        </option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label>Time Range:</label>
                                    <select
                                        id="log-time-filter"
                                        class="form-select"
                                    >
                                        <option value="all">All Time</option>
                                        <option value="1h">Last Hour</option>
                                        <option value="6h">Last 6 Hours</option>
                                        <option value="24h">
                                            Last 24 Hours
                                        </option>
                                        <option value="7d">Last 7 Days</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="logs-main">
                            <div class="logs-header">
                                <div class="search-box">
                                    <input
                                        type="text"
                                        id="log-search"
                                        placeholder="Search logs..."
                                        class="form-input"
                                    />
                                    <i class="fas fa-search"></i>
                                </div>
                                <div class="log-controls">
                                    <button
                                        class="btn-icon"
                                        id="auto-scroll"
                                        title="Auto-scroll to bottom"
                                    >
                                        <i class="fas fa-arrow-down"></i>
                                    </button>
                                    <button
                                        class="btn-icon"
                                        id="pause-logs"
                                        title="Pause log updates"
                                    >
                                        <i class="fas fa-pause"></i>
                                    </button>
                                </div>
                            </div>
                            <div id="system-logs" class="logs-display"></div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Enhanced Modals -->

            <!-- Add Agent Modal -->
            <div id="add-agent-modal" class="modal">
                <div class="modal-backdrop" onclick="closeModal()"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Add New Agent</h3>
                        <button class="modal-close" onclick="closeModal()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="agent-form">
                            <div class="form-group">
                                <label for="agent-name">Agent Name</label>
                                <input
                                    type="text"
                                    id="agent-name"
                                    class="form-input"
                                    placeholder="Enter agent name"
                                    required
                                />
                            </div>
                            <div class="form-group">
                                <label for="agent-role">Role</label>
                                <select
                                    id="agent-role"
                                    class="form-select"
                                    required
                                >
                                    <option value="">Select role...</option>
                                    <option value="Frontend Developer">
                                        Frontend Developer
                                    </option>
                                    <option value="Backend Developer">
                                        Backend Developer
                                    </option>
                                    <option value="DevOps Engineer">
                                        DevOps Engineer
                                    </option>
                                    <option value="QA Engineer">
                                        QA Engineer
                                    </option>
                                    <option value="Product Manager">
                                        Product Manager
                                    </option>
                                    <option value="Data Scientist">
                                        Data Scientist
                                    </option>
                                    <option value="Security Engineer">
                                        Security Engineer
                                    </option>
                                    <option value="UI/UX Designer">
                                        UI/UX Designer
                                    </option>
                                    <option value="Database Administrator">
                                        Database Administrator
                                    </option>
                                    <option value="Custom">Custom Role</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="agent-type">Type</label>
                                <select
                                    id="agent-type"
                                    class="form-select"
                                    required
                                >
                                    <option value="worker">Worker</option>
                                    <option value="manager">Manager</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="agent-specialty"
                                    >Specialty & Skills</label
                                >
                                <textarea
                                    id="agent-specialty"
                                    class="form-textarea"
                                    placeholder="Describe the agent's expertise, skills, and responsibilities"
                                    rows="4"
                                    required
                                ></textarea>
                            </div>
                            <div class="form-group">
                                <label for="agent-manager"
                                    >Manager (Optional)</label
                                >
                                <select id="agent-manager" class="form-select">
                                    <option value="">No manager</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="agent-priority"
                                    >Priority Level</label
                                >
                                <select id="agent-priority" class="form-select">
                                    <option value="low">Low</option>
                                    <option value="normal" selected>
                                        Normal
                                    </option>
                                    <option value="high">High</option>
                                    <option value="critical">Critical</option>
                                </select>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button
                            class="btn btn-secondary"
                            onclick="closeModal()"
                        >
                            Cancel
                        </button>
                        <button class="btn btn-primary" onclick="createAgent()">
                            <i class="fas fa-plus"></i>
                            <span>Create Agent</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Agent Details Modal -->
            <div id="agent-details-modal" class="modal">
                <div class="modal-backdrop" onclick="closeModal()"></div>
                <div class="modal-content large">
                    <div class="modal-header">
                        <h3 id="agent-details-title">Agent Details</h3>
                        <button class="modal-close" onclick="closeModal()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div id="agent-details-content"></div>
                    </div>
                    <div class="modal-footer">
                        <button
                            class="btn btn-outline"
                            onclick="editCurrentAgent()"
                        >
                            <i class="fas fa-edit"></i>
                            <span>Edit Agent</span>
                        </button>
                        <button
                            class="btn btn-danger"
                            onclick="deleteCurrentAgent()"
                        >
                            <i class="fas fa-trash-alt"></i>
                            <span>Delete Agent</span>
                        </button>
                        <button
                            class="btn btn-secondary"
                            onclick="closeModal()"
                        >
                            Close
                        </button>
                    </div>
                </div>
            </div>

            <!-- Performance Modal -->
            <div id="performance-modal" class="modal">
                <div class="modal-backdrop" onclick="closeModal()"></div>
                <div class="modal-content large">
                    <div class="modal-header">
                        <h3>Performance Report</h3>
                        <button class="modal-close" onclick="closeModal()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div id="performance-content"></div>
                    </div>
                    <div class="modal-footer">
                        <button
                            class="btn btn-outline"
                            onclick="exportPerformanceReport()"
                        >
                            <i class="fas fa-download"></i>
                            <span>Export Report</span>
                        </button>
                        <button
                            class="btn btn-secondary"
                            onclick="closeModal()"
                        >
                            Close
                        </button>
                    </div>
                </div>
            </div>

            <!-- Code Preview Modal -->
            <div id="code-preview-modal" class="modal">
                <div class="modal-backdrop" onclick="closeModal()"></div>
                <div class="modal-content large">
                    <div class="modal-header">
                        <h3>Code Preview</h3>
                        <button class="modal-close" onclick="closeModal()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div id="code-preview-content"></div>
                    </div>
                    <div class="modal-footer">
                        <button
                            class="btn btn-outline"
                            onclick="copyCodeToClipboard()"
                        >
                            <i class="fas fa-copy"></i>
                            <span>Copy Code</span>
                        </button>
                        <button
                            class="btn btn-secondary"
                            onclick="closeModal()"
                        >
                            Close
                        </button>
                    </div>
                </div>
            </div>

            <!-- Loading Overlay -->
            <div id="loading-overlay" class="loading-overlay">
                <div class="loading-content">
                    <div class="loading-spinner">
                        <div class="spinner-ring"></div>
                        <div class="spinner-ring"></div>
                        <div class="spinner-ring"></div>
                    </div>
                    <p>Processing...</p>
                </div>
            </div>

            <!-- Notification Container -->
            <div
                id="notification-container"
                class="notification-container"
            ></div>
        </div>

        <!-- Scripts -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
        <script src="../static/js/app.js"></script>

        <!-- Service Worker Registration -->
        <script>
            if ("serviceWorker" in navigator) {
                window.addEventListener("load", function () {
                    navigator.serviceWorker
                        .register("/static/sw.js")
                        .then(function (registration) {
                            console.log("SW registered: ", registration);
                        })
                        .catch(function (registrationError) {
                            console.log(
                                "SW registration failed: ",
                                registrationError
                            );
                        });
                });
            }
        </script>
    </body>
</html>
